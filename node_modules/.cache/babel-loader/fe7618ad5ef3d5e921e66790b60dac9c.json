{"ast":null,"code":"import _objectSpread from\"/Users/quinnjones/Desktop/planechase/planechase/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/quinnjones/Desktop/planechase/planechase/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/quinnjones/Desktop/planechase/planechase/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{animated,useTransition,config}from\"react-spring\";import constants from\"../constants\";import useMultiKeyPress from\"../hooks/useMultiKeyPress\";var Player=function Player(_ref){var health=_ref.health,name=_ref.name,players=_ref.players,setPlayers=_ref.setPlayers,styleProp=_ref.styleProp,status=_ref.status,num=_ref.num;//particles\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),pluses=_useState2[0],setPluses=_useState2[1];useMultiKeyPress(function(keys){if(status===constants.SETTING_UP)return;var pattern=/Digit/;if(keys.some(function(key){return pattern.test(key);})){var playerNum=keys.find(function(key){return pattern.test(key);}).substr(5)-1;if(playerNum===num)if(keys.includes(\"Equal\")){incrementHealth();}else if(keys.includes(\"Minus\")){decrementHealth();}}});var plusTransition=useTransition(pluses,function(particle,i){return i;},{from:{color:\"#f0ead6\",zIndex:\"9999\",position:\"absolute\",opacity:1,bottom:\"40px\",left:\"135px\",paddingLeft:Math.floor(Math.random()*30)},enter:{opacity:0,bottom:\"80px\"},config:config.molasses});var addPlus=function addPlus(){var newPluses=[].concat(_toConsumableArray(pluses),[\"+1\"]);setPluses(newPluses);};var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),minuses=_useState4[0],setMinuses=_useState4[1];var minusTransition=useTransition(minuses,function(particle,i){return i;},{from:{color:\"#f0ead6\",zIndex:\"9999\",position:\"absolute\",opacity:1,bottom:\"40px\",left:'20px',paddingLeft:Math.floor(Math.random()*30)},enter:{opacity:0,bottom:\"80px\"},config:config.molasses});var addMinus=function addMinus(){var newMinuses=[].concat(_toConsumableArray(minuses),[\"-1\"]);setMinuses(newMinuses);};useEffect(function(){if(pluses.length===5){setPluses([]);}if(minuses.length===1){setMinuses([]);}});//End of particles\nvar decrementHealth=function decrementHealth(){if(status===constants.SETTING_UP)return;//particles\naddMinus();//end of particles\nvar newPlayers=_toConsumableArray(players);newPlayers.forEach(function(player){if(player.name===name)player.health--;});setPlayers(newPlayers);};var incrementHealth=function incrementHealth(){if(status===constants.SETTING_UP)return;//particles\naddPlus();//end of particles\nvar newPlayers=_toConsumableArray(players);newPlayers.forEach(function(player){if(player.name===name)player.health++;});setPlayers(newPlayers);};return React.createElement(animated.div,{style:_objectSpread({position:'relative'},styleProp),className:\"player\"},React.createElement(\"p\",{className:\"name\"},name),plusTransition.map(function(_ref2){var props=_ref2.props,item=_ref2.item,key=_ref2.key;return React.createElement(animated.div,{key:key,style:props},item);}),minusTransition.map(function(_ref3){var props=_ref3.props,item=_ref3.item,key=_ref3.key;return React.createElement(animated.div,{key:key,style:props},item);}),React.createElement(\"div\",{className:\"health-container \"+(status===constants.SETTING_UP?\"disabled\":\"\")},React.createElement(\"button\",{onClick:decrementHealth},\"-\"),React.createElement(\"div\",{className:\"health\"},React.createElement(\"p\",null,health)),React.createElement(\"button\",{onClick:incrementHealth},\"+\")));};export default Player;","map":{"version":3,"sources":["/Users/quinnjones/Desktop/planechase/planechase/src/components/Player.js"],"names":["React","useState","useEffect","animated","useTransition","config","constants","useMultiKeyPress","Player","health","name","players","setPlayers","styleProp","status","num","pluses","setPluses","keys","SETTING_UP","pattern","some","key","test","playerNum","find","substr","includes","incrementHealth","decrementHealth","plusTransition","particle","i","from","color","zIndex","position","opacity","bottom","left","paddingLeft","Math","floor","random","enter","molasses","addPlus","newPluses","minuses","setMinuses","minusTransition","addMinus","newMinuses","length","newPlayers","forEach","player","map","props","item"],"mappings":"6YAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,QAAT,CAAmBC,aAAnB,CAAkCC,MAAlC,KAAgD,cAAhD,CACA,MAAOC,CAAAA,SAAP,KAAsB,cAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,2BAA7B,CAGA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAmE,IAAhEC,CAAAA,MAAgE,MAAhEA,MAAgE,CAAxDC,IAAwD,MAAxDA,IAAwD,CAAlDC,OAAkD,MAAlDA,OAAkD,CAAzCC,UAAyC,MAAzCA,UAAyC,CAA7BC,SAA6B,MAA7BA,SAA6B,CAAlBC,MAAkB,MAAlBA,MAAkB,CAAVC,GAAU,MAAVA,GAAU,CAChF;AADgF,cAEpDd,QAAQ,CAAC,EAAD,CAF4C,wCAEzEe,MAFyE,eAEjEC,SAFiE,eAIhFV,gBAAgB,CAAC,SAAAW,IAAI,CAAI,CACvB,GAAGJ,MAAM,GAAGR,SAAS,CAACa,UAAtB,CAAkC,OAElC,GAAMC,CAAAA,OAAO,CAAG,OAAhB,CACA,GAAIF,IAAI,CAACG,IAAL,CAAU,SAAAC,GAAG,QAAIF,CAAAA,OAAO,CAACG,IAAR,CAAaD,GAAb,CAAJ,EAAb,CAAJ,CAAyC,CACvC,GAAME,CAAAA,SAAS,CAAGN,IAAI,CAACO,IAAL,CAAU,SAAAH,GAAG,QAAIF,CAAAA,OAAO,CAACG,IAAR,CAAaD,GAAb,CAAJ,EAAb,EAAoCI,MAApC,CAA2C,CAA3C,EAAgD,CAAlE,CACA,GAAGF,SAAS,GAAKT,GAAjB,CACA,GAAIG,IAAI,CAACS,QAAL,CAAc,OAAd,CAAJ,CAA4B,CAC1BC,eAAe,GAChB,CAFD,IAEO,IAAIV,IAAI,CAACS,QAAL,CAAc,OAAd,CAAJ,CAA4B,CACjCE,eAAe,GAChB,CACF,CACF,CAbe,CAAhB,CAeA,GAAMC,CAAAA,cAAc,CAAG1B,aAAa,CAACY,MAAD,CAAS,SAACe,QAAD,CAAWC,CAAX,QAAiBA,CAAAA,CAAjB,EAAT,CAA6B,CAC/DC,IAAI,CAAE,CACJC,KAAK,CAAE,SADH,CAEJC,MAAM,CAAE,MAFJ,CAGJC,QAAQ,CAAE,UAHN,CAIJC,OAAO,CAAE,CAJL,CAKJC,MAAM,CAAE,MALJ,CAMJC,IAAI,CAAE,OANF,CAOJC,WAAW,CAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,EAA3B,CAPT,CADyD,CAU/DC,KAAK,CAAE,CAAEP,OAAO,CAAE,CAAX,CAAcC,MAAM,CAAE,MAAtB,CAVwD,CAW/DjC,MAAM,CAAEA,MAAM,CAACwC,QAXgD,CAA7B,CAApC,CAcA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB,GAAIC,CAAAA,SAAS,8BAAO/B,MAAP,GAAe,IAAf,EAAb,CACAC,SAAS,CAAC8B,SAAD,CAAT,CACD,CAHD,CAjCgF,eAsClD9C,QAAQ,CAAC,EAAD,CAtC0C,yCAsCzE+C,OAtCyE,eAsChEC,UAtCgE,eAwChF,GAAMC,CAAAA,eAAe,CAAG9C,aAAa,CAAC4C,OAAD,CAAU,SAACjB,QAAD,CAAWC,CAAX,QAAiBA,CAAAA,CAAjB,EAAV,CAA8B,CACjEC,IAAI,CAAE,CACJC,KAAK,CAAE,SADH,CAEJC,MAAM,CAAE,MAFJ,CAGJC,QAAQ,CAAE,UAHN,CAIJC,OAAO,CAAE,CAJL,CAKJC,MAAM,CAAE,MALJ,CAMJC,IAAI,CAAE,MANF,CAOJC,WAAW,CAAEC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,EAA3B,CAPT,CAD2D,CAUjEC,KAAK,CAAE,CAAEP,OAAO,CAAE,CAAX,CAAcC,MAAM,CAAE,MAAtB,CAV0D,CAWjEjC,MAAM,CAAEA,MAAM,CAACwC,QAXkD,CAA9B,CAArC,CAcA,GAAMM,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAIC,CAAAA,UAAU,8BAAOJ,OAAP,GAAgB,IAAhB,EAAd,CACAC,UAAU,CAACG,UAAD,CAAV,CACD,CAHD,CAKAlD,SAAS,CAAC,UAAM,CACd,GAAIc,MAAM,CAACqC,MAAP,GAAkB,CAAtB,CAAyB,CACvBpC,SAAS,CAAC,EAAD,CAAT,CACD,CACD,GAAI+B,OAAO,CAACK,MAAR,GAAmB,CAAvB,CAA0B,CACxBJ,UAAU,CAAC,EAAD,CAAV,CACD,CACF,CAPQ,CAAT,CASA;AAEA,GAAMpB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAIf,MAAM,GAAKR,SAAS,CAACa,UAAzB,CAAqC,OACrC;AACAgC,QAAQ,GACR;AACA,GAAIG,CAAAA,UAAU,oBAAO3C,OAAP,CAAd,CACA2C,UAAU,CAACC,OAAX,CAAmB,SAAAC,MAAM,CAAI,CAC3B,GAAIA,MAAM,CAAC9C,IAAP,GAAgBA,IAApB,CAA0B8C,MAAM,CAAC/C,MAAP,GAC3B,CAFD,EAGAG,UAAU,CAAC0C,UAAD,CAAV,CACD,CAVD,CAYA,GAAM1B,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5B,GAAId,MAAM,GAAKR,SAAS,CAACa,UAAzB,CAAqC,OACrC;AACA2B,OAAO,GACP;AACA,GAAIQ,CAAAA,UAAU,oBAAO3C,OAAP,CAAd,CACA2C,UAAU,CAACC,OAAX,CAAmB,SAAAC,MAAM,CAAI,CAC3B,GAAIA,MAAM,CAAC9C,IAAP,GAAgBA,IAApB,CAA0B8C,MAAM,CAAC/C,MAAP,GAC3B,CAFD,EAGAG,UAAU,CAAC0C,UAAD,CAAV,CACD,CAVD,CAYA,MACE,qBAAC,QAAD,CAAU,GAAV,EAAc,KAAK,gBAAGlB,QAAQ,CAAC,UAAZ,EAA2BvB,SAA3B,CAAnB,CAA0D,SAAS,CAAC,QAApE,EACE,yBAAG,SAAS,CAAC,MAAb,EAAqBH,IAArB,CADF,CAGWoB,cAAc,CAAC2B,GAAf,CAAmB,mBAAGC,CAAAA,KAAH,OAAGA,KAAH,CAAUC,IAAV,OAAUA,IAAV,CAAgBrC,GAAhB,OAAgBA,GAAhB,OACxB,qBAAC,QAAD,CAAU,GAAV,EAAc,GAAG,CAAEA,GAAnB,CAAwB,KAAK,CAAEoC,KAA/B,EACGC,IADH,CADwB,EAAnB,CAHX,CAQKT,eAAe,CAACO,GAAhB,CAAoB,mBAAGC,CAAAA,KAAH,OAAGA,KAAH,CAAUC,IAAV,OAAUA,IAAV,CAAgBrC,GAAhB,OAAgBA,GAAhB,OACnB,qBAAC,QAAD,CAAU,GAAV,EAAc,GAAG,CAAEA,GAAnB,CAAwB,KAAK,CAAEoC,KAA/B,EACGC,IADH,CADmB,EAApB,CARL,CAcE,2BACE,SAAS,CACP,qBACC7C,MAAM,GAAKR,SAAS,CAACa,UAArB,CAAkC,UAAlC,CAA+C,EADhD,CAFJ,EAME,8BAAQ,OAAO,CAAEU,eAAjB,MANF,CAOE,2BAAK,SAAS,CAAC,QAAf,EACE,6BAAIpB,MAAJ,CADF,CAPF,CAUE,8BAAQ,OAAO,CAAEmB,eAAjB,MAVF,CAdF,CADF,CA6BD,CA3HD,CA6HA,cAAepB,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { animated, useTransition, config } from \"react-spring\";\nimport constants from \"../constants\";\nimport useMultiKeyPress from \"../hooks/useMultiKeyPress\";\n\n\nconst Player = ({ health, name, players, setPlayers, styleProp, status, num }) => {\n  //particles\n  const [pluses, setPluses] = useState([]);\n\n  useMultiKeyPress(keys => {\n    if(status===constants.SETTING_UP) return;\n\n    const pattern = /Digit/;\n    if (keys.some(key => pattern.test(key))) {\n      const playerNum = keys.find(key => pattern.test(key)).substr(5) - 1;\n      if(playerNum === num)\n      if (keys.includes(\"Equal\")) {\n        incrementHealth();\n      } else if (keys.includes(\"Minus\")) {\n        decrementHealth();\n      }\n    }\n  });\n\n  const plusTransition = useTransition(pluses, (particle, i) => i, {\n    from: {\n      color: \"#f0ead6\",\n      zIndex: \"9999\",\n      position: \"absolute\",\n      opacity: 1,\n      bottom: \"40px\",\n      left: \"135px\",\n      paddingLeft: Math.floor(Math.random() * 30)\n    },\n    enter: { opacity: 0, bottom: \"80px\" },\n    config: config.molasses\n  });\n\n  const addPlus = () => {\n    let newPluses = [...pluses, \"+1\"];\n    setPluses(newPluses);\n  };\n\n  const [minuses, setMinuses] = useState([]);\n\n  const minusTransition = useTransition(minuses, (particle, i) => i, {\n    from: {\n      color: \"#f0ead6\",\n      zIndex: \"9999\",\n      position: \"absolute\",\n      opacity: 1,\n      bottom: \"40px\",\n      left: '20px',\n      paddingLeft: Math.floor(Math.random() * 30)\n    },\n    enter: { opacity: 0, bottom: \"80px\" },\n    config: config.molasses\n  });\n\n  const addMinus = () => {\n    let newMinuses = [...minuses, \"-1\"];\n    setMinuses(newMinuses);\n  };\n\n  useEffect(() => {\n    if (pluses.length === 5) {\n      setPluses([]);\n    }\n    if (minuses.length === 1) {\n      setMinuses([]);\n    }\n  });\n\n  //End of particles\n\n  const decrementHealth = () => {\n    if (status === constants.SETTING_UP) return;\n    //particles\n    addMinus();\n    //end of particles\n    let newPlayers = [...players];\n    newPlayers.forEach(player => {\n      if (player.name === name) player.health--;\n    });\n    setPlayers(newPlayers);\n  };\n\n  const incrementHealth = () => {\n    if (status === constants.SETTING_UP) return;\n    //particles\n    addPlus();\n    //end of particles\n    let newPlayers = [...players];\n    newPlayers.forEach(player => {\n      if (player.name === name) player.health++;\n    });\n    setPlayers(newPlayers);\n  };\n\n  return (\n    <animated.div style={{position:'relative', ...styleProp}} className=\"player\">\n      <p className=\"name\">{name}</p>\n              {/* particles */}\n              {plusTransition.map(({ props, item, key }) => (\n          <animated.div key={key} style={props}>\n            {item}\n          </animated.div>\n        ))}\n        {minusTransition.map(({ props, item, key }) => (\n          <animated.div key={key} style={props}>\n            {item}\n          </animated.div>\n        ))}\n        {/* particles */}\n      <div\n        className={\n          \"health-container \" +\n          (status === constants.SETTING_UP ? \"disabled\" : \"\")\n        }\n      >\n        <button onClick={decrementHealth}>-</button>\n        <div className=\"health\">\n          <p>{health}</p>\n        </div>\n        <button onClick={incrementHealth}>+</button>\n      </div>\n    </animated.div>\n  );\n};\n\nexport default Player;\n"]},"metadata":{},"sourceType":"module"}